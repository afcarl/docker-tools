#!/bin/bash
# Arg1 = ip
# Arg2 = host
sudo echo "NameVirtualHost *:80
<VirtualHost *:80>
        ProxyRequests off
        ServerName ${2}" > /etc/apache2/sites-available/${2}.conf
sudo echo 'ErrorLog ${APACHE_LOG_DIR}'"/error-${2}.log" >> /etc/apache2/sites-available/${2}.conf
sudo echo 'CustomLog ${APACHE_LOG_DIR}'"/access-${2}.log combined" >> /etc/apache2/sites-available/${2}.conf
sudo echo "ProxyPreserveHost On
 ProxyPass / http://${1}:80/
 ProxyPassReverse / http://${1}:80/
 </VirtualHost>" >> /etc/apache2/sites-available/${2}.conf
echo "Writed /etc/apache2/sites-available/${2}.conf"
