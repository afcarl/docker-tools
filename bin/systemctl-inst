#!/bin/bash
## Looks into current Folder installs systemd *.service files accepts path as arg
shopt -s nullglob
# shopt -s dotglob # To include hidden files
files=(${1}/*.service)
if [ ! -z "$1" ]; then
if [ ${#files[@]} -gt 0 ]; then cd $1; echo "Creating Symlinks from $PWD"; ln -s ${PWD}/*.service  /lib/systemd/system; ln -s ${PWD}/*.service  /etc/systemd/system/multi-user.target.wants
else echo "Sorry no *.service files in $1"; exit 1;fi;
else
files=(${PWD}/*.service)
 if [ ${#files[@]} -gt 0 ]; then echo "Creating Symlinks from $PWD"; ln -s ${PWD}/*.service  /lib/systemd/system; ln -s ${PWD}/*.service  /etc/systemd/system/multi-user.target.wants; exit 0; fi;
 echo "Supply /path/to/*.service files or or move into the dir i tested current $PWD "
fi
